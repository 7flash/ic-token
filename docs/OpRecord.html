<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="OpRecord.html">OpRecord</a></li></li><li><li><a href="Utils.html">Utils</a></li></li><li><li><a href="token.html">token</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.Operation">Operation</a></li></li><li><li><a href="#type.Status">Status</a></li></li><li><li><a href="#type.OpRecord">OpRecord</a></li></li><li><li><a href="#type.OpRecordIn">OpRecordIn</a></li></li><li><li><a href="#bytes">bytes</a></li></li><li><li><a href="#recordMake">recordMake</a></li></li></ul></nav><div class="documentation"><h1>OpRecord</h1><p>Operation Record module</p>
<p>To store the update call history.</p>
<div class="declaration"><h4 class="type-declaration" id="type.Operation"><span class="keyword">type </span><span class="type">Operation</span> = {#mint; #burn; #transfer; #approve; #init}</h4><p><p>Update call operations</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.Status"><span class="keyword">type </span><span class="type">Status</span> = {#success; #failed}</h4><p><p>Update call status</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.OpRecord"><span class="keyword">type </span><span class="type">OpRecord</span> = { caller : <span class="type">Text</span>; op : <a href="#type.Operation"><span class="type">Operation</span></a>; status : <a href="#type.Status"><span class="type">Status</span></a>; index : <span class="type">Nat</span>; hash : <span class="type">Text</span>; from : ?<span class="type">Text</span>; to : ?<span class="type">Text</span>; amount : <span class="type">Nat64</span>; fee : ?<span class="type">Nat64</span>; memo : ?<span class="type">Nat64</span>; timestamp : <span class="type">Time.Time</span> }</h4><p><p>Update call record fields</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.OpRecordIn"><span class="keyword">type </span><span class="type">OpRecordIn</span> = { caller : <span class="type">Text</span>; op : <a href="#type.Operation"><span class="type">Operation</span></a>; status : <a href="#type.Status"><span class="type">Status</span></a>; index : <span class="type">Nat</span>; from : ?<span class="type">Text</span>; to : ?<span class="type">Text</span>; amount : <span class="type">Nat64</span>; fee : ?<span class="type">Nat64</span>; memo : ?<span class="type">Nat64</span>; timestamp : <span class="type">Time.Time</span> }</h4><p><p><code>OpRecord</code> without hash.</p>
</p></div><div class="declaration"><h4 class="function" id="bytes"><code><span class="keyword">public func </span><span class="fnname">bytes</span>(<span class="parameter">o</span> : <a href="#type.OpRecordIn"><span class="type">OpRecordIn</span></a>) : [<span class="type">Nat8</span>]</code></h4><p><p>Serialize a <code>OpRecordIn</code> to <code>[Nat8]</code></p>
</p></div><div class="declaration"><h4 class="function" id="recordMake"><code><span class="keyword">public func </span><span class="fnname">recordMake</span>(<br/>  <span class="parameter">caller</span> : <span class="type">Text</span>, <br/>  <span class="parameter">op</span> : <a href="#type.Operation"><span class="type">Operation</span></a>, <br/>  <span class="parameter">status</span> : <a href="#type.Status"><span class="type">Status</span></a>, <br/>  <span class="parameter">index</span> : <span class="type">Nat</span>, <br/>  <span class="parameter">from</span> : ?<span class="type">Text</span>, <br/>  <span class="parameter">to</span> : ?<span class="type">Text</span>, <br/>  <span class="parameter">amount</span> : <span class="type">Nat64</span>, <br/>  <span class="parameter">fee</span> : ?<span class="type">Nat64</span>, <br/>  <span class="parameter">memo</span> : ?<span class="type">Nat64</span>, <br/>  <span class="parameter">timestamp</span> : <span class="type">Time.Time</span><br/>) : (<a href="#type.OpRecord"><span class="type">OpRecord</span></a>, <span class="type">Text</span>)</code></h4><p><p>Construct a <code>OpRecord</code> based on field data.<br/>Return the OpRecord and SHA256 hash.</p>
</p></div></div></body></html>